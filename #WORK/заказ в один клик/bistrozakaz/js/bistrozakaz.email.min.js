!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(t){var r,i,o,n=arguments.length,s=window[t],a=arguments,f=a[1];if(2>n)throw Error("Minimum 2 arguments must be given");if(e.isArray(f)){i={};for(var u in f){r=f[u];try{i[r]=JSON.parse(s.getItem(r))}catch(c){i[r]=s.getItem(r)}}return i}if(2!=n){try{i=JSON.parse(s.getItem(f))}catch(c){throw new ReferenceError(f+" is not defined in this storage")}for(var u=2;n-1>u;u++)if(i=i[a[u]],void 0===i)throw new ReferenceError([].slice.call(a,1,u+1).join(".")+" is not defined in this storage");if(e.isArray(a[u])){o=i,i={};for(var h in a[u])i[a[u][h]]=o[a[u][h]];return i}return i[a[u]]}try{return JSON.parse(s.getItem(f))}catch(c){return s.getItem(f)}}function r(t){var r,i,o=arguments.length,n=window[t],s=arguments,a=s[1],f=s[2],u={};if(2>o||!e.isPlainObject(a)&&3>o)throw Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(a)){for(var c in a)r=a[c],e.isPlainObject(r)?n.setItem(c,JSON.stringify(r)):n.setItem(c,r);return a}if(3==o)return"object"==typeof f?n.setItem(a,JSON.stringify(f)):n.setItem(a,f),f;try{i=n.getItem(a),null!=i&&(u=JSON.parse(i))}catch(h){}i=u;for(var c=2;o-2>c;c++)r=s[c],i[r]&&e.isPlainObject(i[r])||(i[r]={}),i=i[r];return i[s[c]]=s[c+1],n.setItem(a,JSON.stringify(u)),u}function i(t){var r,i,o=arguments.length,n=window[t],s=arguments,a=s[1];if(2>o)throw Error("Minimum 2 arguments must be given");if(e.isArray(a)){for(var f in a)n.removeItem(a[f]);return!0}if(2==o)return n.removeItem(a),!0;try{r=i=JSON.parse(n.getItem(a))}catch(u){throw new ReferenceError(a+" is not defined in this storage")}for(var f=2;o-1>f;f++)if(i=i[s[f]],void 0===i)throw new ReferenceError([].slice.call(s,1,f).join(".")+" is not defined in this storage");if(e.isArray(s[f]))for(var c in s[f])delete i[s[f][c]];else delete i[s[f]];return n.setItem(a,JSON.stringify(r)),!0}function o(t,r){var o=a(t);for(var n in o)i(t,o[n]);if(r)for(var n in e.namespaceStorages)f(n)}function n(r){var i=arguments.length,o=arguments,s=(window[r],o[1]);if(1==i)return 0==a(r).length;if(e.isArray(s)){for(var f=0;f<s.length;f++)if(!n(r,s[f]))return!1;return!0}try{var u=t.apply(this,arguments);e.isArray(o[i-1])||(u={totest:u});for(var f in u)if(!(e.isPlainObject(u[f])&&e.isEmptyObject(u[f])||e.isArray(u[f])&&!u[f].length)&&u[f])return!1;return!0}catch(c){return!0}}function s(r){var i=arguments.length,o=arguments,n=(window[r],o[1]);if(2>i)throw Error("Minimum 2 arguments must be given");if(e.isArray(n)){for(var a=0;a<n.length;a++)if(!s(r,n[a]))return!1;return!0}try{var f=t.apply(this,arguments);e.isArray(o[i-1])||(f={totest:f});for(var a in f)if(void 0===f[a]||null===f[a])return!1;return!0}catch(u){return!1}}function a(r){var i=arguments.length,o=window[r],n=arguments,s=(n[1],[]),a={};if(a=i>1?t.apply(this,n):o,a._cookie)for(var f in e.cookie())""!=f&&s.push(f.replace(a._prefix,""));else for(var u in a)s.push(u);return s}function f(t){if(!t||"string"!=typeof t)throw Error("First parameter must be a string");l?(window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,"{}"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,"{}"));var r={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),r.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=r,r}function u(e){if(!window[e])return!1;var t="jsapi";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(r){return!1}}var c="ls_",h="ss_",l=u("localStorage"),m={_type:"",_ns:"",_callMethod:function(e,t){var r=[this._type],t=Array.prototype.slice.call(t),i=t[0];return this._ns&&r.push(this._ns),"string"==typeof i&&-1!==i.indexOf(".")&&(t.shift(),[].unshift.apply(t,i.split("."))),[].push.apply(r,t),e.apply(this,r)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,i=arguments,o=i[0];if(1>t||!e.isPlainObject(o)&&2>t)throw Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(o)&&this._ns){for(var n in o)r(this._type,this._ns,n,o[n]);return o}var s=this._callMethod(r,i);return this._ns?s[o.split(".")[0]]:s},remove:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(i,arguments)},removeAll:function(e){return this._ns?(r(this._type,this._ns,{}),!0):o(this._type,e)},isEmpty:function(){return this._callMethod(n,arguments)},isSet:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(s,arguments)},keys:function(){return this._callMethod(a,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var g={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,r){e.cookie(this._prefix+t,r,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf(c)&&-1===t.indexOf(h)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};l||(window.localCookieStorage=e.extend({},g,{_prefix:c,_expires:3650}),window.sessionCookieStorage=e.extend({},g,{_prefix:h+window.name+"_"})),window.cookieStorage=e.extend({},g),e.cookieStorage=e.extend({},m,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return f(e)},l?(e.localStorage=e.extend({},m,{_type:"localStorage"}),e.sessionStorage=e.extend({},m,{_type:"sessionStorage"})):(e.localStorage=e.extend({},m,{_type:"localCookieStorage"}),e.sessionStorage=e.extend({},m,{_type:"sessionCookieStorage"})),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}});
!function(e){function t(e){var t=document.createElement("input"),a="on"+e,i=a in t;return i||(t.setAttribute(a,"return;"),i="function"==typeof t[a]),t=null,i}function a(e){var t="text"==e||"tel"==e;if(!t){var a=document.createElement("input");a.setAttribute("type",e),t="text"===a.type,a=null}return t}function i(t,a,r){var n=r.aliases[t];return!!n&&(n.alias&&i(n.alias,void 0,r),e.extend(!0,r,n),e.extend(!0,r,a),!0)}function r(t,a){function i(a){function i(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(a,i,r){var n=t.definitions[i],o=0==a.matches.length;if(r=void 0!=r?r:a.matches.length,n&&!p){n.placeholder=e.isFunction(n.placeholder)?n.placeholder.call(this,t):n.placeholder;for(var s=n.prevalidator,l=s?s.length:0,u=1;u<n.cardinality;u++){var c=l>=u?s[u-1]:[],d=c.validator,f=c.cardinality;a.matches.splice(r++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:a.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}a.matches.splice(r++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:a.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}else a.matches.splice(r++,0,{fn:null,cardinality:0,optionality:a.isOptional,newBlockMarker:o,casing:null,def:i,placeholder:void 0,mask:i}),p=!1}for(var n,o,s,l,u,c,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,f=new i,m=[],v=[];n=d.exec(a);)switch(o=n[0],o.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=m.pop(),m.length>0){if(l=m[m.length-1],l.matches.push(s),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.push(s);break;case t.optionalmarker.start:m.push(new i((!1),(!0)));break;case t.groupmarker.start:m.push(new i((!0)));break;case t.quantifiermarker.start:var g=new i((!1),(!1),(!0));o=o.replace(/[{}]/g,"");var k=o.split(","),y=isNaN(k[0])?k[0]:parseInt(k[0]),b=1==k.length?y:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"==b||"+"==b)&&(y="*"==b?0:1),g.quantifier={min:y,max:b},m.length>0){var x=m[m.length-1].matches;if(n=x.pop(),!n.isGroup){var P=new i((!0));P.matches.push(n),n=P}x.push(n),x.push(g)}else{if(n=f.matches.pop(),!n.isGroup){var P=new i((!0));P.matches.push(n),n=P}f.matches.push(n),f.matches.push(g)}break;case t.escapeChar:p=!0;break;case t.alternatormarker:m.length>0?(l=m[m.length-1],c=l.matches.pop()):c=f.matches.pop(),c.isAlternator?m.push(c):(u=new i((!1),(!1),(!1),(!0)),u.matches.push(c),m.push(u));break;default:if(m.length>0){if(l=m[m.length-1],l.matches.length>0&&(c=l.matches[l.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end))),r(l,o),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.length>0&&(c=f.matches[f.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end))),r(f,o)}return f.matches.length>0&&(c=f.matches[f.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end)),v.push(f)),v}function r(a,r){if(void 0!=a&&""!=a){if(1==a.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var n="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;a=t.groupmarker.start+a+t.groupmarker.end+t.quantifiermarker.start+n+","+t.repeat+t.quantifiermarker.end}return void 0==e.bzinputmask.masksCache[a]&&(e.bzinputmask.masksCache[a]={mask:a,maskToken:i(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r}),e.extend(!0,{},e.bzinputmask.masksCache[a])}}function n(e){if(e=e.toString(),t.numericInput){e=e.split("").reverse();for(var a=0;a<e.length;a++)e[a]==t.optionalmarker.start?e[a]=t.optionalmarker.end:e[a]==t.optionalmarker.end?e[a]=t.optionalmarker.start:e[a]==t.groupmarker.start?e[a]=t.groupmarker.end:e[a]==t.groupmarker.end&&(e[a]=t.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)){if(a)return o=[],e.each(t.mask,function(t,a){o.push(void 0==a.mask||e.isFunction(a.mask)?r(n(a),a):r(n(a.mask),a))}),o;if(t.mask.length>1){t.keepStatic=void 0==t.keepStatic||t.keepStatic;var s="(";return e.each(t.mask,function(t,a){s.length>1&&(s+=")|("),s+=n(void 0==a.mask||e.isFunction(a.mask)?a:a.mask)}),s+=")",r(s,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0==t.mask.mask||e.isFunction(t.mask.mask)?r(n(t.mask),t.mask):r(n(t.mask.mask),t.mask)),o}function n(i,r,n){function o(e,t,a){t=t||0;var i,r,n,o=[],s=0;do{if(e===!0&&c().validPositions[s]){var l=c().validPositions[s];r=l.match,i=l.locator.slice(),o.push(a===!0?l.input:C(s,r))}else{if(t>s){var u=k(s,i,s-1);n=u[0]}else n=v(s,i,s-1);r=n.match,i=n.locator.slice(),o.push(C(s,r))}s++}while((void 0==ie||ie>s-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=s);return o.pop(),o}function c(){return r}function d(e){var t=c();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e){var t=c(),a=-1,i=t.validPositions;void 0==e&&(e=-1);var r=a,n=a;for(var o in i){var s=parseInt(o);(-1==e||null!=i[s].match.fn)&&(e>=s&&(r=s),s>=e&&(n=s))}return a=-1!=r&&e-r>1||e>n?r:n}function f(t,a,i){if(n.insertMode&&void 0!=c().validPositions[t]&&void 0==i){var r,o=e.extend(!0,{},c().validPositions),s=p();for(r=t;s>=r;r++)delete c().validPositions[r];c().validPositions[t]=a;var l,u=!0;for(r=t;s>=r;r++){var d=o[r];if(void 0!=d){var f=c().validPositions;l=!n.keepStatic&&f[r]&&(void 0!=f[r+1]&&k(r+1,f[r].locator.slice(),r).length>1||void 0!=f[r].alternation)?r+1:S(r),u=g(l,d.match.def)?u&&_(l,d.input,!0,!0)!==!1:null==d.match.fn}if(!u)break}if(!u)return c().validPositions=e.extend(!0,{},o),!1}else c().validPositions[t]=a;return!0}function m(e,t){var a,i=e;for(void 0!=c().validPositions[e]&&c().validPositions[e].input==n.radixPoint&&(t++,i++),a=i;t>a;a++)void 0!=c().validPositions[a]&&0!=n.canClearPosition(c(),a,p(),n)&&delete c().validPositions[a];for(a=t;a<=p();){var r=c().validPositions[a],o=c().validPositions[i];void 0!=r&&void 0==o?(g(i,r.match.def)&&_(i,r.input,!0)!==!1&&(delete c().validPositions[a],a++),i++):a++}var s=p();s>=e&&void 0!=c().validPositions[s]&&c().validPositions[s].input==n.radixPoint&&delete c().validPositions[s],d(!0)}function v(e,t,a){for(var i,r=k(e,t,a),o=p(),s=c().validPositions[o]||k(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].split(","):[],u=0;u<r.length&&(i=r[u],!(n.greedy||i.match&&(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0&&(void 0==s.alternation||void 0!=i.locator[s.alternation]&&z(i.locator[s.alternation].toString().split(","),l))));u++);return i}function h(e){return c().validPositions[e]?c().validPositions[e].match:k(e)[0].match}function g(e,t){for(var a=!1,i=k(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def==t){a=!0;break}return a}function k(t,a,i){function r(a,i,o,l){function p(o,l,m){if(s>1e4)return alert("jquery.bzinputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c().mask),!0;if(s==t&&void 0==o.matches)return u.push({match:o,locator:l.reverse()}),!0;if(void 0!=o.matches){if(o.isGroup&&m!==!0){if(o=p(a.matches[f+1],l))return!0}else if(o.isOptional){var v=o;if(o=r(o,i,l,m)){var h=u[u.length-1].match,g=0==e.inArray(h,v.matches);g&&(d=!0),s=t}}else if(o.isAlternator){var k,y=o,b=[],x=u.slice(),P=l.length,z=i.length>0?i.shift():-1;if(-1==z||"string"==typeof z){var _,w=s,E=i.slice();"string"==typeof z&&(_=z.split(","));for(var S=0;S<y.matches.length;S++){u=[],o=p(y.matches[S],[S].concat(l),m)||o,k=u.slice(),s=w,u=[];for(var A=0;A<E.length;A++)i[A]=E[A];for(var R=0;R<k.length;R++)for(var j=k[R],C=0;C<b.length;C++){var M=b[C];if(j.match.mask==M.match.mask&&("string"!=typeof z||-1!=e.inArray(j.locator[P].toString(),_))){k.splice(R,1),M.locator[P]=M.locator[P]+","+j.locator[P],M.alternation=P;break}}b=b.concat(k)}"string"==typeof z&&(b=e.map(b,function(t,a){if(isFinite(a)){var i,r=t.locator[P].toString().split(",");t.locator[P]=void 0,t.alternation=void 0;for(var n=0;n<r.length;n++)i=-1!=e.inArray(r[n],_),i&&(void 0!=t.locator[P]?(t.locator[P]+=",",t.alternation=P,t.locator[P]+=r[n]):t.locator[P]=parseInt(r[n]));if(void 0!=t.locator[P])return t}})),u=x.concat(b),d=!0}else o=p(y.matches[z],[z].concat(l),m);if(o)return!0}else if(o.isQuantifier&&m!==!0){var O=o;n.greedy=n.greedy&&isFinite(O.quantifier.max);for(var F=i.length>0&&m!==!0?i.shift():0;F<(isNaN(O.quantifier.max)?F+1:O.quantifier.max)&&t>=s;F++){var G=a.matches[e.inArray(O,a.matches)-1];if(o=p(G,[F].concat(l),!0)){var h=u[u.length-1].match;h.optionalQuantifier=F>O.quantifier.min-1;var g=0==e.inArray(h,G.matches);if(g){if(F>O.quantifier.min-1){d=!0,s=t;break}return!0}return!0}}}else if(o=r(o,i,l,m))return!0}else s++}for(var f=i.length>0?i.shift():0;f<a.matches.length;f++)if(a.matches[f].isQuantifier!==!0){var m=p(a.matches[f],[f].concat(o),l);if(m&&s==t)return m;if(s>t)break}}var o=c().maskToken,s=a?i:0,l=a||[0],u=[],d=!1;if(void 0==a){for(var p,f=t-1;void 0==(p=c().validPositions[f])&&f>-1;)f--;if(void 0!=p&&f>-1)s=f,l=p.locator.slice();else{for(f=t-1;void 0==(p=c().tests[f])&&f>-1;)f--;void 0!=p&&f>-1&&(s=f,l=p[0].locator.slice())}}for(var m=l.shift();m<o.length;m++){var v=r(o[m],l,[m]);if(v&&s==t||s>t)break}return(0==u.length||d)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),c().tests[t]=e.extend(!0,[],u),c().tests[t]}function y(){return void 0==c()._buffer&&(c()._buffer=o(!1,1)),c()._buffer}function b(){return void 0==c().buffer&&(c().buffer=o(!0,p(),!0)),c().buffer}function x(e,t,a){if(a=a||b().slice(),e===!0)d(),e=0,t=a.length;else for(var i=e;t>i;i++)delete c().validPositions[i],delete c().tests[i];for(var i=e;t>i;i++)a[i]!=n.skipOptionalPartCharacter&&_(i,a[i],!0,!0)}function P(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function z(t,a){for(var i=n.greedy?a:a.slice(0,1),r=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],i)){r=!0;break}return r}function _(t,a,i,r){function o(t,a,i,r){var o=!1;return e.each(k(t),function(s,l){for(var u=l.match,v=a?1:0,h="",g=(b(),u.cardinality);g>v;g--)h+=R(t-(g-1));if(a&&(h+=a),o=null!=u.fn?u.fn.test(h,c(),t,i,n):(a==u.def||a==n.skipOptionalPartCharacter)&&""!=u.def&&{c:u.def,pos:t},o!==!1){var k=void 0!=o.c?o.c:a;k=k==n.skipOptionalPartCharacter&&null===u.fn?u.def:k;var y=t;if(void 0!=o.remove&&m(o.remove,o.remove+1),o.refreshFromBuffer){var z=o.refreshFromBuffer;if(i=!0,x(z===!0?z:z.start,z.end),void 0==o.pos&&void 0==o.c)return o.pos=p(),!1;if(y=void 0!=o.pos?o.pos:t,y!=t)return o=e.extend(o,_(y,k,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=t&&(y=o.pos,x(t,y),y!=t))return o=e.extend(o,_(y,k,!0)),!1;return(1==o||void 0!=o.pos||void 0!=o.c)&&(s>0&&d(!0),f(y,e.extend({},l,{input:P(k,u)}),r)||(o=!1),!1)}}),o}function s(t,a,i,r){var o,s,l=e.extend(!0,{},c().validPositions);for(o=p();o>=0;o--)if(c().validPositions[o]&&void 0!=c().validPositions[o].alternation){s=c().validPositions[o].alternation;break}if(void 0!=s)for(var u in c().validPositions)if(parseInt(u)>parseInt(o)&&void 0===c().validPositions[u].alternation){for(var f=c().validPositions[u],m=f.locator[s],v=c().validPositions[o].locator[s].split(","),h=0;h<v.length;h++)if(m<v[h]){for(var g,k,y=u-1;y>=0;y--)if(g=c().validPositions[y],void 0!=g){k=g.locator[s],g.locator[s]=v[h];break}if(m!=g.locator[s]){for(var x=b().slice(),P=u;P<p()+1;P++)delete c().validPositions[P],delete c().tests[P];d(!0),n.keepStatic=!n.keepStatic;for(var P=u;P<x.length;P++)x[P]!=n.skipOptionalPartCharacter&&_(p()+1,x[P],!1,!0);g.locator[s]=k;var z=_(t,a,i,r);if(n.keepStatic=!n.keepStatic,z)return z;d(),c().validPositions=e.extend(!0,{},l)}}break}return!1}function l(t,a){for(var i=c().validPositions[a],r=i.locator,n=r.length,o=t;a>o;o++)if(!w(o)){var s=k(o),l=s[0],u=-1;e.each(s,function(e,t){for(var a=0;n>a;a++)t.locator[a]&&z(t.locator[a].toString().split(","),r[a].toString().split(","))&&a>u&&(u=a,l=t)}),f(o,e.extend({},l,{input:l.match.def}),!0)}}i=i===!0;for(var u=b(),v=t-1;v>-1&&!c().validPositions[v];v--);for(v++;t>v;v++)void 0==c().validPositions[v]&&((!w(v)||u[v]!=C(v))&&k(v).length>1||u[v]==n.radixPoint||"0"==u[v]&&e.inArray(n.radixPoint,u)<v)&&o(v,u[v],!0);var h=t,g=!1;if(r&&h>=E()&&d(!0),h<E()&&(g=o(h,a,i,r),!i&&g===!1)){var y=c().validPositions[h];if(!y||null!=y.match.fn||y.match.def!=a&&a!=n.skipOptionalPartCharacter){if((n.insertMode||void 0==c().validPositions[S(h)])&&!w(h))for(var A=h+1,j=S(h);j>=A;A++)if(g=o(A,a,i,r),g!==!1){l(h,A),h=A;break}}else g={caret:S(h)}}return g===!1&&n.keepStatic&&B(u)&&(g=s(t,a,i,r)),g===!0&&(g={pos:h}),g}function w(e){var t=h(e);return null!=t.fn&&t.fn}function E(){var e;if(ie=ae.prop("maxLength"),-1==ie&&(ie=void 0),0==n.greedy){var t,a=p(),i=c().validPositions[a],r=void 0!=i?i.locator.slice():void 0;for(t=a+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)i=v(t,r,t-1),r=i.locator.slice();e=t}else e=b().length;return void 0==ie||ie>e?e:ie}function S(e){var t=E();if(e>=t)return t;for(var a=e;++a<t&&!w(a)&&(n.nojumps!==!0||n.nojumpsThreshold>a););return a}function A(e){var t=e;if(0>=t)return 0;for(;--t>0&&!w(t););return t}function R(e){return void 0==c().validPositions[e]?C(e):c().validPositions[e].input}function j(t,a,i,r,o){if(r&&e.isFunction(n.onBeforeWrite)){var s=n.onBeforeWrite.call(t,r,a,i,n);if(s&&s.refreshFromBuffer){var l=s.refreshFromBuffer;x(l===!0?l:l.start,l.end,s.buffer),d(!0),i=s.caret||i}}t._valueSet(a.join("")),void 0!=i&&T(t,i),o===!0&&(oe=!0,e(t).trigger("input"))}function C(e,t){return t=t||h(e),void 0!=t.placeholder?t.placeholder:null==t.fn?t.def:n.placeholder.charAt(e%n.placeholder.length)}function M(t,a,i,r){function n(){var e=!1,t=y().slice(f,S(f)).join("").indexOf(u);if(-1!=t&&!w(f)){e=!0;for(var a=y().slice(f,f+t),i=0;i<a.length;i++)if(" "!=a[i]){e=!1;break}}return e}var o=void 0!=r?r.slice():t._valueGet().split("");d(),c().p=S(-1),a&&t._valueSet("");var s=y().slice(0,S(-1)).join(""),l=o.join("").match(new RegExp(O(s),"g"));l&&l.length>0&&o.splice(0,s.length*l.length);var u="",f=0;e.each(o,function(a,r){var o=e.Event("keypress");o.which=r.charCodeAt(0),u+=r;var s=p(),l=c().validPositions[s],d=v(s+1,l?l.locator.slice():void 0,s);if(!n()||i){var m=i?a:null==d.match.fn&&d.match.optionality&&s+1<c().p?s+1:c().p;q.call(t,o,!0,!1,i,m),f=m+1,u=""}else q.call(t,o,!0,!1,!0,s+1)}),a&&j(t,b(),e(t).is(":focus")?S(p(0)):void 0,e.Event("checkval"))}function O(t){return e.bzinputmask.escapeRegex.call(this,t)}function F(t){if(t.data("_bzinputmask")&&!t.hasClass("hasDatepicker")){var a=[],i=c().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&a.push(i[r].input);var o=(re?a.reverse():a).join(""),s=(re?b().slice().reverse():b()).join("");return e.isFunction(n.onUnMask)&&(o=n.onUnMask.call(t,s,o,n)||o),o}return t[0]._valueGet()}function G(e){if(re&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){var t=b().length;e=t-e}return e}function T(t,a,i){var r,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a){var s=e(o).data("_bzinputmask");return!e(o).is(":visible")&&s&&void 0!=s.caret?(a=s.caret.begin,i=s.caret.end):o.setSelectionRange?(a=o.selectionStart,i=o.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),a=0-r.duplicate().moveStart("character",-1e5),i=a+r.text.length),a=G(a),i=G(i),{begin:a,end:i}}a=G(a),i=G(i),i="number"==typeof i?i:a;var s=e(o).data("_bzinputmask")||{};if(s.caret={begin:a,end:i},e(o).data("_bzinputmask",s),e(o).is(":visible")){var l=e(o).css("font-size").replace("px","")*i;o.scrollLeft=l>o.scrollWidth?l:0,0==n.insertMode&&a==i&&i++,o.setSelectionRange?(o.selectionStart=a,o.selectionEnd=i):o.createTextRange&&(r=o.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",a),r.select())}}function D(t){var a,i,r=b(),n=r.length,o=p(),s={},l=c().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(a=o+1;a<r.length;a++)i=v(a,u,a-1),u=i.locator.slice(),s[a]=e.extend(!0,{},i);var d=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(a=n-1;a>o&&(i=s[a].match,(i.optionality||i.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=s[a].locator[l.alternation]&&-1!=e.inArray(s[a].locator[l.alternation].toString(),d))&&r[a]==C(a,i));a--)n--;return t?{l:n,def:s[n]?s[n].match:void 0}:n}function I(e){for(var t=D(),a=e.length-1;a>t&&!w(a);a--);e.splice(t,a+1-t)}function B(t){if(e.isFunction(n.isComplete))return n.isComplete.call(ae,t,n);if("*"!=n.repeat){var a=!1,i=D(!0),r=A(i.l),o=p();if(o==r&&(void 0==i.def||i.def.newBlockMarker||i.def.optionalQuantifier)){a=!0;for(var s=0;r>=s;s++){var l=w(s);if(l&&(void 0==t[s]||t[s]==C(s))||!l&&t[s]!=C(s)){a=!1;break}}}return a}}function N(e,t){return re?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function K(t){var a=e._data(t).events;e.each(a,function(t,a){e.each(a,function(e,t){if("bzinputmask"==t.namespace&&"setvalue"!=t.type){var a=t.handler;t.handler=function(e){if(!this.disabled&&(!this.readOnly||"keydown"==e.type&&e.ctrlKey&&67==e.keyCode)){switch(e.type){case"input":if(oe===!0)return oe=!1,e.preventDefault();break;case"keydown":ne=!1;break;case"keypress":if(ne===!0)return e.preventDefault();ne=!0;break;case"compositionstart":break;case"compositionupdate":oe=!0;break;case"compositionend":}return a.apply(this,arguments)}e.preventDefault()}}})})}function H(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].bzinputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_bzinputmask")){if(i.data("_bzinputmask").opts.autoUnmask)return i.bzinputmask("unmaskedvalue");var r=a(t),n=i.data("_bzinputmask"),o=n.maskset,s=o._buffer;return s=s?s.join(""):"",r!=s?r:""}return a(t)},set:function(t,a){var r,n=e(t),o=n.data("_bzinputmask");return o?(r=i(t,e.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(fe,a,o.opts)||a:a),n.triggerHandler("setvalue.bzinputmask")):r=i(t,a),r},bzinputmaskpatch:!0}}}function i(){var t=e(this),a=e(this).data("_bzinputmask");return a?a.opts.autoUnmask?t.bzinputmask("unmaskedvalue"):s.call(this)!=y().join("")?s.call(this):"":s.call(this)}function r(t){var a=e(this).data("_bzinputmask");a?(l.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(fe,t,a.opts)||t:t),e(this).triggerHandler("setvalue.bzinputmask")):l.call(this,t)}function o(t){e(t).bind("mouseenter.bzinputmask",function(){var t=e(this),a=this,i=a._valueGet();""!=i&&i!=b().join("")&&(this._valueSet(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(fe,i,n)||i:i),t.triggerHandler("setvalue.bzinputmask"))});var a=e._data(t).events,i=a.mouseover;if(i){for(var r=i[i.length-1],o=i.length-1;o>0;o--)i[o]=i[o-1];i[0]=r}}var s,l;t._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"),document.__lookupGetter__&&t.__lookupGetter__("value")?(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",r)):(s=function(){return t.value},l=function(e){t.value=e},a(t.type),o(t)),t._valueGet=function(e){return re&&e!==!0?s.call(this).split("").reverse().join(""):s.call(this)},t._valueSet=function(e){l.call(this,re?e.split("").reverse().join(""):e)})}function L(t,a,i){function r(){if(n.keepStatic){d(!0);var a,i=[];for(a=p();a>=0;a--)if(c().validPositions[a]){if(void 0!=c().validPositions[a].alternation)break;i.push(c().validPositions[a].input),delete c().validPositions[a]}if(a>0)for(;i.length>0;){c().p=S(p());var r=e.Event("keypress");r.which=i.pop().charCodeAt(0),q.call(t,r,!0,!1,!1,c().p)}}}if((n.numericInput||re)&&(a==e.bzinputmask.keyCode.BACKSPACE?a=e.bzinputmask.keyCode.DELETE:a==e.bzinputmask.keyCode.DELETE&&(a=e.bzinputmask.keyCode.BACKSPACE),re)){var o=i.end;i.end=i.begin,i.begin=o}a==e.bzinputmask.keyCode.BACKSPACE&&i.end-i.begin<=1?i.begin=A(i.begin):a==e.bzinputmask.keyCode.DELETE&&i.begin==i.end&&i.end++,m(i.begin,i.end),r();var s=p(i.begin);s<i.begin?(-1==s&&d(),c().p=S(s)):c().p=i.begin}function U(a){var i=this,r=e(i),o=a.keyCode,l=T(i);o==e.bzinputmask.keyCode.BACKSPACE||o==e.bzinputmask.keyCode.DELETE||s&&127==o||a.ctrlKey&&88==o&&!t("cut")?(a.preventDefault(),88==o&&(X=b().join("")),L(i,o,l),j(i,b(),c().p,a,X!=b().join("")),i._valueGet()==y().join("")&&r.trigger("cleared"),n.showTooltip&&r.prop("title",c().mask)):o==e.bzinputmask.keyCode.END||o==e.bzinputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=S(p());n.insertMode||e!=E()||a.shiftKey||e--,T(i,a.shiftKey?l.begin:e,e)},0):o==e.bzinputmask.keyCode.HOME&&!a.shiftKey||o==e.bzinputmask.keyCode.PAGE_UP?T(i,0,a.shiftKey?l.begin:0):n.undoOnEscape&&o==e.bzinputmask.keyCode.ESCAPE||90==o&&a.ctrlKey?(M(i,!0,!1,X.split("")),r.click()):o!=e.bzinputmask.keyCode.INSERT||a.shiftKey||a.ctrlKey?0!=n.insertMode||a.shiftKey||(o==e.bzinputmask.keyCode.RIGHT?setTimeout(function(){var e=T(i);T(i,e.begin)},0):o==e.bzinputmask.keyCode.LEFT&&setTimeout(function(){var e=T(i);T(i,re?e.begin+1:e.begin-1)},0)):(n.insertMode=!n.insertMode,T(i,n.insertMode||l.begin!=E()?l.begin:l.begin-1)),se=-1!=e.inArray(o,n.ignorables)}function q(t,a,i,r,o){var s=this,l=e(s),u=t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||se))return!0;if(u){46==u&&0==t.shiftKey&&","==n.radixPoint&&(u=44);var p,m=a?{begin:o,end:o}:T(s),v=String.fromCharCode(u),h=N(m.begin,m.end);h&&(c().undoPositions=e.extend(!0,{},c().validPositions),L(s,e.bzinputmask.keyCode.DELETE,m),n.insertMode||(n.insertMode=!n.insertMode,f(m.begin,r),n.insertMode=!n.insertMode),h=!n.multi),c().writeOutBuffer=!0;var g=re&&!h?m.end:m.begin,y=_(g,v,r);if(y!==!1){if(y!==!0&&(g=void 0!=y.pos?y.pos:g,v=void 0!=y.c?y.c:v),d(!0),void 0!=y.caret)p=y.caret;else{var P=c().validPositions;p=!n.keepStatic&&(void 0!=P[g+1]&&k(g+1,P[g].locator.slice(),g).length>1||void 0!=P[g].alternation)?g+1:S(g)}c().p=p}if(i!==!1){var z=this;if(setTimeout(function(){n.onKeyValidation.call(z,y,n)},0),c().writeOutBuffer&&y!==!1){var w=b();j(s,w,a?void 0:n.numericInput?A(p):p,t,a!==!0),a!==!0&&setTimeout(function(){B(w)===!0&&l.trigger("complete")},0)}else h&&(c().buffer=void 0,c().validPositions=c().undoPositions)}else h&&(c().buffer=void 0,c().validPositions=c().undoPositions);if(n.showTooltip&&l.prop("title",c().mask),a&&e.isFunction(n.onBeforeWrite)){var E=n.onBeforeWrite.call(this,t,b(),p,n);if(E&&E.refreshFromBuffer){var R=E.refreshFromBuffer;x(R===!0?R:R.start,R.end,E.buffer),d(!0),E.caret&&(c().p=E.caret)}}t.preventDefault()}}function W(t){var a=(e(this),t.keyCode,b());n.onKeyUp.call(this,t,a,n)}function Q(t){var a=this,i=e(a),r=a._valueGet(!0),o=T(a);if("propertychange"==t.type&&a._valueGet().length<=E())return!0;if("paste"==t.type){var s=r.substr(0,o.begin),l=r.substr(o.end,r.length);s==y().slice(0,o.begin).join("")&&(s=""),l==y().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?r=s+window.clipboardData.getData("Text")+l:t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=s+t.originalEvent.clipboardData.getData("text/plain")+l)}var u=e.isFunction(n.onBeforePaste)?n.onBeforePaste.call(a,r,n)||r:r;return M(a,!0,!1,re?u.split("").reverse():u.split("")),i.click(),B(b())===!0&&i.trigger("complete"),!1}function $(t){var a=this;M(a,!0,!1),B(b())===!0&&e(a).trigger("complete"),t.preventDefault()}function Y(e){var t=this;X=b().join(""),(""==te||0!=e.originalEvent.data.indexOf(te))&&(ee=T(t))}function V(t){var a=this,i=ee||T(a);0==t.originalEvent.data.indexOf(te)&&(d(),i={begin:0,end:0});var r=t.originalEvent.data;T(a,i.begin,i.end);for(var o=0;o<r.length;o++){var s=e.Event("keypress");s.which=r.charCodeAt(o),ne=!1,se=!1,q.call(a,s)}setTimeout(function(){var e=c().p;j(a,b(),n.numericInput?A(e):e)},0),te=t.originalEvent.data}function Z(){}function J(t){if(ae=e(t),ae.is(":input")&&a(ae.attr("type"))){if(ae.data("_bzinputmask",{maskset:r,opts:n,isRTL:!1}),n.showTooltip&&ae.prop("title",c().mask),("rtl"==t.dir||n.rightAlign)&&ae.css("text-align","right"),"rtl"==t.dir||n.numericInput){t.dir="ltr",ae.removeAttr("dir");var i=ae.data("_bzinputmask");i.isRTL=!0,ae.data("_bzinputmask",i),re=!0}ae.unbind(".bzinputmask"),ae.closest("form").bind("submit",function(){X!=b().join("")&&ae.change(),ae[0]._valueGet&&ae[0]._valueGet()==y().join("")&&ae[0]._valueSet(""),n.removeMaskOnSubmit&&ae.bzinputmask("remove")}).bind("reset",function(){setTimeout(function(){ae.triggerHandler("setvalue.bzinputmask")},0)}),ae.bind("mouseenter.bzinputmask",function(){var t=e(this),a=this;!t.is(":focus")&&n.showMaskOnHover&&a._valueGet()!=b().join("")&&j(a,b())}).bind("blur.bzinputmask",function(t){var a=e(this),i=this;if(a.data("_bzinputmask")){var r=i._valueGet(),o=b().slice();le=!0,X!=o.join("")&&(a.change(),X=o.join("")),""!=r&&(n.clearMaskOnLostFocus&&(r==y().join("")?o=[]:I(o)),B(o)===!1&&(a.trigger("incomplete"),n.clearIncomplete&&(d(),o=n.clearMaskOnLostFocus?[]:y().slice())),j(i,o,void 0,t))}}).bind("focus.bzinputmask",function(){var t=(e(this),this),a=t._valueGet();n.showMaskOnFocus&&(!n.showMaskOnHover||n.showMaskOnHover&&""==a)&&t._valueGet()!=b().join("")&&j(t,b(),S(p())),X=b().join("")}).bind("mouseleave.bzinputmask",function(){var t=e(this),a=this;if(n.clearMaskOnLostFocus){var i=b().slice(),r=a._valueGet();t.is(":focus")||r==t.attr("placeholder")||""==r||(r==y().join("")?i=[]:I(i),j(a,i))}}).bind("click.bzinputmask",function(){var t=e(this),a=this;if(t.is(":focus")){var i=T(a);if(i.begin==i.end)if(n.radixFocus&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,b())&&(le||b().join("")==y().join("")))T(a,e.inArray(n.radixPoint,b())),le=!1;else{var r=re?G(i.begin):i.begin,o=S(p(r));o>r?T(a,w(r)?r:S(r)):T(a,o)}}}).bind("dblclick.bzinputmask",function(){var e=this;setTimeout(function(){T(e,0,S(p()))},0)}).bind(u+".bzinputmask dragdrop.bzinputmask drop.bzinputmask",Q).bind("setvalue.bzinputmask",function(){var e=this;M(e,!0,!1),X=b().join(""),(n.clearMaskOnLostFocus||n.clearIncomplete)&&e._valueGet()==y().join("")&&e._valueSet("")}).bind("cut.bzinputmask",function(t){oe=!0;var a=this,i=e(a),r=T(a);L(a,e.bzinputmask.keyCode.DELETE,r),j(a,b(),c().p,t,X!=b().join("")),a._valueGet()==y().join("")&&i.trigger("cleared"),n.showTooltip&&i.prop("title",c().mask)}).bind("complete.bzinputmask",n.oncomplete).bind("incomplete.bzinputmask",n.onincomplete).bind("cleared.bzinputmask",n.oncleared),ae.bind("keydown.bzinputmask",U).bind("keypress.bzinputmask",q).bind("keyup.bzinputmask",W),l||ae.bind("compositionstart.bzinputmask",Y).bind("compositionupdate.bzinputmask",V).bind("compositionend.bzinputmask",Z),"paste"===u&&ae.bind("input.bzinputmask",$),H(t);var o=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(t,t._valueGet(),n)||t._valueGet():t._valueGet();M(t,!0,!1,o.split(""));var s=b().slice();X=s.join("");var f;try{f=document.activeElement}catch(m){}B(s)===!1&&n.clearIncomplete&&d(),n.clearMaskOnLostFocus&&(s.join("")==y().join("")?s=[]:I(s)),j(t,s),f===t&&T(t,S(p())),K(t)}}var X,ee,te,ae,ie,re=!1,ne=!1,oe=!1,se=!1,le=!0;if(void 0!=i)switch(i.action){case"isComplete":return ae=e(i.el),r=ae.data("_bzinputmask").maskset,n=ae.data("_bzinputmask").opts,B(i.buffer);case"unmaskedvalue":return ae=i.$input,r=ae.data("_bzinputmask").maskset,n=ae.data("_bzinputmask").opts,re=i.$input.data("_bzinputmask").isRTL,F(i.$input);case"mask":X=b().join(""),J(i.el);break;case"format":ae=e({}),ae.data("_bzinputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(ae,i.value,n)||i.value:i.value).split("");return M(ae,!1,!1,re?ue.reverse():ue),e.isFunction(n.onBeforeWrite)&&n.onBeforeWrite.call(this,void 0,b(),0,n),i.metadata?{value:re?b().slice().reverse().join(""):b().join(""),metadata:ae.bzinputmask("getmetadata")}:re?b().slice().reverse().join(""):b().join("");case"isValid":ae=e({}),ae.data("_bzinputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=i.value.split("");M(ae,!1,!0,re?ue.reverse():ue);for(var ce=b(),de=D(),pe=ce.length-1;pe>de&&!w(pe);pe--);return ce.splice(de,pe+1-de),B(ce)&&i.value==ce.join("");case"getemptymask":return ae=e(i.el),r=ae.data("_bzinputmask").maskset,n=ae.data("_bzinputmask").opts,y();case"remove":var fe=i.el;ae=e(fe),r=ae.data("_bzinputmask").maskset,n=ae.data("_bzinputmask").opts,fe._valueSet(F(ae)),ae.unbind(".bzinputmask"),ae.removeData("_bzinputmask");var me;Object.getOwnPropertyDescriptor&&(me=Object.getOwnPropertyDescriptor(fe,"value")),me&&me.get?fe._valueGet&&Object.defineProperty(fe,"value",{get:fe._valueGet,set:fe._valueSet}):document.__lookupGetter__&&fe.__lookupGetter__("value")&&fe._valueGet&&(fe.__defineGetter__("value",fe._valueGet),fe.__defineSetter__("value",fe._valueSet));try{delete fe._valueGet,delete fe._valueSet}catch(ve){fe._valueGet=void 0,fe._valueSet=void 0}break;case"getmetadata":if(ae=e(i.el),r=ae.data("_bzinputmask").maskset,n=ae.data("_bzinputmask").opts,e.isArray(r.metadata)){for(var he,ge=p(),ke=ge;ke>=0;ke--)if(c().validPositions[ke]&&void 0!=c().validPositions[ke].alternation){he=c().validPositions[ke].alternation;break}return void 0!=he?r.metadata[c().validPositions[ge].locator[he]]:r.metadata[0]}return r.metadata}}if(void 0===e.fn.bzinputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i")),null!==o.match(new RegExp("android.*firefox.*","i"))),u=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),t("paste")?"paste":t("input")?"input":"propertychange");e.bzinputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:e.noop},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a,o){var s=e.extend(!0,{},e.bzinputmask.defaults,a);return i(s.alias,a,s),n({action:"format",value:t,metadata:o},r(s),s)},isValid:function(t,a){var o=e.extend(!0,{},e.bzinputmask.defaults,a);
return i(o.alias,a,o),n({action:"isValid",value:t},r(o),o)}},e.fn.bzinputmask=function(t,a,o,s,l){function u(t,a,r){var n=e(t);n.data("bzinputmask-alias")&&i(n.data("bzinputmask-alias"),{},a);for(var o in a){var s=n.data("bzinputmask-"+o.toLowerCase());void 0!=s&&("mask"==o&&0==s.indexOf("[")?(a[o]=s.replace(/[\s[\]]/g,"").split("','"),a[o][0]=a[o][0].replace("'",""),a[o][a[o].length-1]=a[o][a[o].length-1].replace("'","")):a[o]="boolean"==typeof s?s:s.toString(),r&&(r[o]=a[o]))}return a}o=o||n,s=s||"_bzinputmask";var c,d=e.extend(!0,{},e.bzinputmask.defaults,a);if("string"==typeof t)switch(t){case"mask":return i(d.alias,a,d),c=r(d,o!==n),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});case"unmaskedvalue":var p=e(this);return p.data(s)?o({action:"unmaskedvalue",$input:p}):p.val();case"remove":return this.each(function(){var t=e(this);t.data(s)&&o({action:"remove",el:this})});case"getemptymask":return this.data(s)?o({action:"getemptymask",el:this}):"";case"hasMaskedValue":return!!this.data(s)&&!this.data(s).opts.autoUnmask;case"isComplete":return!this.data(s)||o({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this});case"getmetadata":return this.data(s)?o({action:"getmetadata",el:this}):void 0;case"_detectScope":return i(d.alias,a,d),void 0==l||i(l,a,d)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=l),e.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),e.isArray(d.mask);default:return i(d.alias,a,d),i(t,a,d)||(d.mask=t),c=r(d,o!==n),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))})}else{if("object"==typeof t)return d=e.extend(!0,{},e.bzinputmask.defaults,t),i(d.alias,t,d),c=r(d,o!==n),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-bzinputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+t+"}");e.extend(!0,r,a),d=e.extend(!0,{},e.bzinputmask.defaults,r),d=u(this,d),i(d.alias,r,d),d.alias=void 0,e(this).bzinputmask("mask",d,o)}catch(n){}if(e(this).attr("data-bzinputmask-mask")||e(this).attr("data-bzinputmask-alias")){d=e.extend(!0,{},e.bzinputmask.defaults,{});var s={};d=u(this,d,s),i(d.alias,s,d),d.alias=void 0,e(this).bzinputmask("mask",d,o)}})}}}return e.fn.bzinputmask}(jQuery),function(e){return e.extend(e.bzinputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.bzinputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var a=e.bzinputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(t){var a=e.bzinputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,a){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),r=parseInt(e.concat(a.toString().slice(e.length)));return!isNaN(i)&&(i>=t&&a>=i)||!isNaN(r)&&(r>=t&&a>=r)},determinebaseyear:function(e,t,a){var i=(new Date).getFullYear();if(e>i)return e;if(i>t){for(var r=t.toString().slice(0,2),n=t.toString().slice(2,4);r+a>t;)r--;var o=r+n;return e>o?e:o}return i},onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.bzinputmask.keyCode.RIGHT){var i=new Date;a.val(i.getDate().toString()+(i.getMonth()+1).toString()+i.getFullYear().toString()),a.triggerHandler("setvalue.bzinputmask")}},getFrontValue:function(e,t,a){for(var i=0,r=0,n=0;n<e.length&&"2"!=e.charAt(n);n++){var o=a.definitions[e.charAt(n)];o?(i+=r,r=o.cardinality):r++}return t.join("").substr(i,r)},definitions:{1:{validator:function(e,t,a,i,r){var n=r.regex.val1.test(e);return i||n||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(n=r.regex.val1.test("0"+e.charAt(0)))?n:(t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){isNaN(t.buffer[a+1])||(e+=t.buffer[a+1]);var n=1==e.length?r.regex.val1pre.test(e):r.regex.val1.test(e);return i||n||!(n=r.regex.val1.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},2:{validator:function(e,t,a,i,r){var n=r.getFrontValue(t.mask,t.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=r.regex.val2(r.separator).test(n+e);if(!i&&!o&&(e.charAt(1)==r.separator||-1!="-./".indexOf(e.charAt(1)))&&(o=r.regex.val2(r.separator).test(n+"0"+e.charAt(0))))return t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)};if(r.mask.indexOf("2")==r.mask.length-1&&o){var s=t.buffer.join("").substr(4,4)+e;if(s!=r.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return o},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){isNaN(t.buffer[a+1])||(e+=t.buffer[a+1]);var n=r.getFrontValue(t.mask,t.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=1==e.length?r.regex.val2pre(r.separator).test(n+e):r.regex.val2(r.separator).test(n+e);return i||o||!(o=r.regex.val2(r.separator).test(n+"0"+e))?o:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},y:{validator:function(e,t,a,i,r){if(r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)){var n=t.buffer.join("").substr(0,6);if(n!=r.leapday)return!0;var o=parseInt(e,10);return o%4===0&&(o%100!==0||o%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1);if(n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(0),{pos:a};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(0),t.buffer[a++]=o.charAt(1),{pos:a}}return n},cardinality:1},{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2);if(n=r.isInYearRange(e[0]+o[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(1),{pos:a};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear)){var s=t.buffer.join("").substr(0,6);if(s!=r.leapday)n=!0;else{var l=parseInt(e,10);n=l%4===0&&(l%100!==0||l%400===0)}}else n=!1;if(n)return t.buffer[a-1]=o.charAt(0),t.buffer[a++]=o.charAt(1),t.buffer[a++]=e.charAt(0),{refreshFromBuffer:{start:a-3,end:a},pos:a}}return n},cardinality:2},{validator:function(e,t,a,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var a=e.bzinputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(t){var a=e.bzinputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.bzinputmask.keyCode.RIGHT){var i=new Date;a.val((i.getMonth()+1).toString()+i.getDate().toString()+i.getFullYear().toString()),a.triggerHandler("setvalue.bzinputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t){var a=e(this);if(t.ctrlKey&&t.keyCode==e.bzinputmask.keyCode.RIGHT){var i=new Date;a.val(i.getFullYear().toString()+(i.getMonth()+1).toString()+i.getDate().toString()),a.triggerHandler("setvalue.bzinputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,a,i,r){if("24"==r.hourFormat&&24==parseInt(e,10))return t.buffer[a-1]="0",t.buffer[a]="0",{refreshFromBuffer:{start:a-1,end:a},c:"0"};var n=r.regex.hrs.test(e);if(!i&&!n&&(e.charAt(1)==r.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(n=r.regex.hrs.test("0"+e.charAt(0))))return t.buffer[a-1]="0",t.buffer[a]=e.charAt(0),a++,{refreshFromBuffer:{start:a-2,end:a},pos:a,c:r.timeseparator};if(n&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)){var o=parseInt(e,10);return 24==o?(t.buffer[a+5]="a",t.buffer[a+6]="m"):(t.buffer[a+5]="p",t.buffer[a+6]="m"),o-=12,10>o?(t.buffer[a]=o.toString(),t.buffer[a-1]="0"):(t.buffer[a]=o.toString().charAt(1),t.buffer[a-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:a-1,end:a+6},c:t.buffer[a]}}return n},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.hrspre.test(e);return i||n||!(n=r.regex.hrs.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.mspre.test(e);return i||n||!(n=r.regex.ms.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},t:{validator:function(e,t,a,i,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),e.fn.bzinputmask}(jQuery),function(e){return e.extend(e.bzinputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.bzinputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=8,a=0;t>a;a++)e[a]=function(){var e=a;return{validator:function(t,a,i,r,n){if(n.regex["urlpre"+(e+1)]){var o,s=t;e+1-t.length>0&&(s=a.buffer.join("").substring(0,e+1-t.length)+""+s);var l=n.regex["urlpre"+(e+1)].test(s);if(!r&&!l){for(i-=e,o=0;o<n.defaultPrefix.length;o++)a.buffer[i]=n.defaultPrefix[o],i++;for(o=0;o<s.length-1;o++)a.buffer[i]=s[o],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,a){return a-1>-1&&"."!=t.buffer[a-1]?(e=t.buffer[a-1]+e,e=a-2>-1&&"."!=t.buffer[a-2]?t.buffer[a-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.bzinputmask}(jQuery),function(e){return e.extend(e.bzinputmask.defaults.aliases,{numeric:{mask:function(e){function t(t){for(var a="",i=0;i<t.length;i++)a+=e.definitions[t[i]]?"\\"+t[i]:t[i];return a}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var a=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==i?a-1:a)}e.definitions[";"]=e.definitions["~"];var r=t(e.prefix);return r+="[+]",r+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),r+=t(e.suffix),e.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,postFormat:function(t,a,i,r){a=a>=t.length?t.length-1:a<r.prefix.length?r.prefix.length:a;var n=!1,o=t[a];if(""==r.groupSeparator||-1!=e.inArray(r.radixPoint,t)&&a>=e.inArray(r.radixPoint,t)||new RegExp("[-+]").test(o))return{pos:a};var s=t.slice();o==r.groupSeparator&&(s.splice(a--,1),o=s[a]),i?s[a]="?":s.splice(a,0,"?");var l=s.join("");if(l.length>0&&r.autoGroup||i&&-1!=l.indexOf(r.groupSeparator)){var u=e.bzinputmask.escapeRegex.call(this,r.groupSeparator);n=0==l.indexOf(r.groupSeparator),l=l.replace(new RegExp(u,"g"),"");var c=l.split(r.radixPoint);if(l=""==r.radixPoint?l:c[0],l!=r.prefix+"?0"&&l.length>=r.groupSize+r.prefix.length)for(var d=new RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");d.test(l);)l=l.replace(d,"$1"+r.groupSeparator+"$2"),l=l.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);""!=r.radixPoint&&c.length>1&&(l+=r.radixPoint+c[1])}n=t.join("")!=l,t.length=l.length;for(var p=0,f=l.length;f>p;p++)t[p]=l.charAt(p);var m=e.inArray("?",t);return i?t[m]=o:t.splice(m,1),{pos:m,refreshFromBuffer:n}},onBeforeWrite:function(t,a,i,r){if(t&&"blur"==t.type){var n=""!=r.radixPoint?a.join("").split(r.radixPoint):[a.join("")],o=n[0].match(r.regex.integerPart(r)),s=2==n.length?n[1].match(r.regex.integerNPart(r)):void 0;o&&"-0"==o[0]&&(void 0==s||s[0].match(/^0+$/))&&a.splice(o.index,1);var l=e.inArray(r.radixPoint,a);if(-1!=l&&isFinite(r.digits)&&!r.digitsOptional){for(var u=1;u<=r.digits;u++)(void 0==a[l+u]||a[l+u]==r.placeholder.charAt(0))&&(a[l+u]="0");return{refreshFromBuffer:!0,buffer:a}}}if(r.autoGroup){var c=r.postFormat(a,i-1,!0,r);return c.caret=c.pos+1,c}},regex:{integerPart:function(){return new RegExp("[-+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.bzinputmask.escapeRegex.call(this,t.groupSeparator)+"]+")}},signHandler:function(e,t,a,i,r){if(!i&&(r.allowMinus&&"-"===e||r.allowPlus&&"+"===e)){var n=t.buffer.join("").match(r.regex.integerPart(r));if(n&&n[0].length>0)return t.buffer[n.index]==("-"===e?"+":"-")?{pos:n.index,c:e,remove:n.index,caret:a}:t.buffer[n.index]==("-"===e?"-":"+")?{remove:n.index,caret:a-1}:{pos:n.index,c:e,caret:a+1}}return!1},radixHandler:function(t,a,i,r,n){if(!r&&t===n.radixPoint&&n.digits>0){var o=e.inArray(n.radixPoint,a.buffer),s=a.buffer.join("").match(n.regex.integerPart(n));if(-1!=o&&a.validPositions[o])return a.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"==s[0]&&s.index+1!=i)return a.buffer[s?s.index:i]="0",{pos:(s?s.index:i)+1}}return!1},leadingZeroHandler:function(t,a,i,r,n){var o=a.buffer.join("").match(n.regex.integerNPart(n)),s=e.inArray(n.radixPoint,a.buffer);if(o&&!r&&(-1==s||s>=i))if(0==o[0].indexOf("0")){i<n.prefix.length&&(i=o.index);var l=e.inArray(n.radixPoint,a._buffer),u=a._buffer&&a.buffer.slice(s).join("")==a._buffer.slice(l).join(""),c=a._buffer&&a.buffer.slice(o.index,s).join("")==a._buffer.slice(n.prefix.length,l).join("");if(-1==s||u&&c)return a.buffer.splice(o.index,1),i=i>o.index?i-1:o.index,{pos:i,remove:o.index};if(o.index+1==i||"0"==t)return a.buffer.splice(o.index,1),i=o.index,{pos:i,remove:o.index}}else if("0"===t&&i<=o.index)return!1;return!0},definitions:{"~":{validator:function(t,a,i,r,n){var o=n.signHandler(t,a,i,r,n);if(!o&&(o=n.radixHandler(t,a,i,r,n),!o&&(o=r?new RegExp("[0-9"+e.bzinputmask.escapeRegex.call(this,n.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),o===!0&&(o=n.leadingZeroHandler(t,a,i,r,n),o===!0)))){var s=e.inArray(n.radixPoint,a.buffer);o=n.digitsOptional===!1&&i>s&&!r?{pos:i,remove:i}:{pos:i}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,t,a,i,r){var n=r.signHandler(e,t,a,i,r);return n||(n=r.allowMinus&&"-"==e||r.allowPlus&&"+"==e),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,a,i,r,n){var o=n.signHandler(t,a,i,r,n);if(!o){var s="["+e.bzinputmask.escapeRegex.call(this,n.radixPoint)+"]";o=new RegExp(s).test(t),o&&a.validPositions[i]&&a.validPositions[i].match.placeholder==n.radixPoint&&(o={caret:i+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(t,a,i){var r=t.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.bzinputmask.escapeRegex.call(this,i.groupSeparator),"g"),"")},isComplete:function(t,a){var i=t.join(""),r=t.slice();if(a.postFormat(r,0,!0,a),r.join("")!=i)return!1;var n=i.replace(a.prefix,"");return n=n.replace(a.suffix,""),n=n.replace(new RegExp(e.bzinputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),n=n.replace(e.bzinputmask.escapeRegex.call(this,a.radixPoint),"."),isFinite(n)},onBeforeMask:function(t,a){if(""!=a.radixPoint&&isFinite(t))t=t.toString().replace(".",a.radixPoint);else{var i=t.match(/,/g),r=t.match(/\./g);r&&i?r.length>i.length?(t=t.replace(/\./g,""),t=t.replace(",",a.radixPoint)):i.length>r.length?(t=t.replace(/,/g,""),t=t.replace(".",a.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.bzinputmask.escapeRegex.call(this,a.groupSeparator),"g"),"")}return 0==a.digits&&(-1!=t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!=t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),t},canClearPosition:function(t,a,i,r){var n=t.validPositions[a].input!=r.radixPoint||a==i;if(n){var o=t.buffer.join("").match(r.regex.integerNPart(r)),s=e.inArray(r.radixPoint,t.buffer);o&&(-1==s||s>=a)&&(0==o[0].indexOf("0")?n=o.index!=a:-1!=s&&1==o[0].length&&o.index==a&&(t.validPositions[a].input="0",n=!1))}return n&&t.validPositions[a+1]&&t.validPositions[a+1].input==r.groupSeparator&&delete t.validPositions[a+1],n}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.bzinputmask}(jQuery),function(e){return e.extend(e.bzinputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",maskInit:"+pp(pp)pppppppp",countrycode:"",mask:function(t){t.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var a=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){a=e},error:function(e,a,i){alert(i+" - "+t.url)}}),a=a.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1}),""!=t.countrycode&&(t.maskInit="+"+t.countrycode+t.maskInit.substring(3)),a.splice(0,0,t.maskInit),a},nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,t){var a=e.replace(/^0/g,"");return(a.indexOf(t.countrycode)>1||-1==a.indexOf(t.countrycode))&&(a="+"+t.countrycode+a),a}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e.fn.bzinputmask}(jQuery),function(e){return e.extend(e.bzinputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,a,i,r,n){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(){var e,t,a=new o,i=[];for(n.regexTokens=[];e=n.tokenizer.exec(n.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new o((!0)));break;case")":var r=i.pop();i.length>0?i[i.length-1].matches.push(r):a.matches.push(r);break;case"{":case"+":case"*":var s=new o((!1),(!0));t=t.replace(/[{}]/g,"");var l=t.split(","),u=isNaN(l[0])?l[0]:parseInt(l[0]),c=1==l.length?u:isNaN(l[1])?l[1]:parseInt(l[1]);if(s.quantifier={min:u,max:c},i.length>0){var d=i[i.length-1].matches;if(e=d.pop(),!e.isGroup){var r=new o((!0));r.matches.push(e),e=r}d.push(e),d.push(s)}else{if(e=a.matches.pop(),!e.isGroup){var r=new o((!0));r.matches.push(e),e=r}a.matches.push(e),a.matches.push(s)}break;default:i.length>0?i[i.length-1].matches.push(t):a.matches.push(t)}a.matches.length>0&&n.regexTokens.push(a)}function l(t,a){var i=!1;a&&(c+="(",p++);for(var r=0;r<t.matches.length;r++){var n=t.matches[r];if(1==n.isGroup)i=l(n,!0);else if(1==n.isQuantifier){var o=e.inArray(n,t.matches),s=t.matches[o-1],u=c;if(isNaN(n.quantifier.max)){for(;n.repeaterPart&&n.repeaterPart!=c&&n.repeaterPart.length>c.length&&!(i=l(s,!0)););i=i||l(s,!0),i&&(n.repeaterPart=c),c=u+n.quantifier.max}else{for(var d=0,m=n.quantifier.max-1;m>d&&!(i=l(s,!0));d++);c=u+"{"+n.quantifier.min+","+n.quantifier.max+"}"}}else if(void 0!=n.matches)for(var v=0;v<n.length&&!(i=l(n[v],a));v++);else{var h;if("["==n.charAt(0)){h=c,h+=n;for(var g=0;p>g;g++)h+=")";var k=new RegExp("^("+h+")$");i=k.test(f)}else for(var y=0,b=n.length;b>y;y++)if("\\"!=n.charAt(y)){h=c,h+=n.substr(0,y+1),h=h.replace(/\|$/,"");for(var g=0;p>g;g++)h+=")";var k=new RegExp("^("+h+")$");if(i=k.test(f))break}c+=n}if(i)break}return a&&(c+=")",p--),i}null==n.regexTokens&&s();var u=a.buffer.slice(),c="",d=!1,p=0;u.splice(i,0,t);for(var f=u.join(""),m=0;m<n.regexTokens.length;m++){var o=n.regexTokens[m];if(d=l(o,o.isGroup))break}return d},cardinality:1}}}}),e.fn.bzinputmask}(jQuery);
$.fn.bistrozakazWrapHide=function(){$("#bistrozakaz-wrap").data("disabled",!0).fadeOut(300)},$.fn.bistrozakazWrapShow=function(){$("#bistrozakaz-wrap").data("disabled",!1).fadeIn(300)},$.fn.bistrozakazButtonDisable=function(){$("#bistrozakaz-button").attr("disabled","disabled"),$("#bistrozakaz-contact").attr("disabled","disabled"),$.fn.bistrozakazCheckContactFill()},$.fn.bistrozakazButtonEnable=function(){$("#bistrozakaz-button").removeAttr("disabled"),$("#bistrozakaz-contact").removeAttr("disabled"),$.fn.bistrozakazCheckContactFill()},$.fn.bistrozakazMessageShow=function(){$("#bistrozakaz-message").fadeIn(300)},$.fn.bistrozakazMessageHide=function(){$("#bistrozakaz-message").fadeOut(300)},$.fn.bistrozakazCheckContactFill=function(){$("#bistrozakaz-contact").keyup()},$.fn.bistrozakazBZToggle=function(){$("#bistrozakaz-wrap").data("disabled")?($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow()):($.fn.bistrozakazMessageShow(),$.fn.bistrozakazWrapHide())},$.fn.bistrozakazOnlyDisabledRadioToggle=function(a){$("#bistrozakaz-wrap").data("disabled")&&!$(a.target).data("disabled")?($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow()):$(a.target).data("disabled")?($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow(),$.fn.bistrozakazButtonDisable()):($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow(),$.fn.bistrozakazButtonEnable())},$.fn.bistrozakazRadioToggle=function(){var a=$("input[name=sku_id][type=radio]","#cart-form");"undefined"!=typeof a&&a.on("change",$.fn.bistrozakazOnlyDisabledRadioToggle)},$.fn.bistrozakazCheckSkuEnabled=function(){var a=$(".sku-feature","#cart-form");if("undefined"!=typeof a&&"undefined"!=typeof bistrozakazFeatures.features){var t="";$.each(a,function(a,o){t+=$(o).data("feature-id")+":"+$(o).val()+";"});var o=bistrozakazFeatures.features[t];o&&($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow(),o.available?($.fn.bistrozakazButtonEnable(),console.log("wareId:"+o.id+" available")):($.fn.bistrozakazButtonDisable(),console.log("wareId:"+o.id+" NOT available")))}var e=$("input[name=sku_id][type=radio]","#cart-form");"undefined"!=typeof e&&$("input[name=sku_id][type=radio]:checked").data("disabled")&&($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow(),$.fn.bistrozakazButtonDisable()),$.fn.bistrozakazCheckContactFill()},$.fn.bistrozakazFeatureToggle=function(){var a=$(".sku-feature","#cart-form");"undefined"!=typeof a&&"undefined"!=typeof bistrozakazFeatures.features&&a.on("change",function(){var t="";$.each(a,function(a,o){t+=$(o).data("feature-id")+":"+$(o).val()+";"});var o=bistrozakazFeatures.features[t];o&&($.fn.bistrozakazMessageHide(),$.fn.bistrozakazWrapShow(),o.available?($.fn.bistrozakazButtonEnable(),console.log("wareId:"+o.id+" available")):($.fn.bistrozakazButtonDisable(),console.log("wareId:"+o.id+" NOT available")))}),$.fn.bistrozakazCheckContactFill()},$.fn.bistrozakazStartRequest=function(){var a=$("#bistrozakaz-coax");$.fn.bistrozakazButtonDisable(),a.removeClass("hvr-buzz"),a.addClass("hvr-buzz-loading")},$.fn.bistrozakazComplete=function(){var a=$("#bistrozakaz-coax");$.fn.bistrozakazButtonEnable(),a.removeClass("hvr-buzz-loading"),a.addClass("hvr-buzz")},$.fn.bistrozakazSuccess=function(a){"ok"===a.status?($.fn.bistrozakazMakeMessage("bistrozakaz-success",a.data.message),$.fn.bistrozakazWrapHide(),$("#bistrozakaz-wrap").trigger("ok.bistrozakaz.order",a)):"fail"===a.status&&$.fn.bistrozakazMakeMessage("bistrozakaz-error",a.errors)},$.fn.bistrozakazRequestFailed=function(){$.fn.bistrozakazMakeMessage("bistrozakaz-fail","Что-то пошло не так :( Попробуйте позже.")},$.fn.bistrozakazMakeMessage=function(a,t){var o=void 0===a?"bistrozakaz-success":a,e=$("#bistrozakaz-message");e.removeClass(),e.find("p").remove(),e.addClass(o).prepend($("<p/>").html(t)).fadeIn(300)},$.fn.bistrozakazLsSetContact=function(a,t){var o=$.bistrozakaz.$mode;a.localStorage.set("contact."+o,t)},$.fn.bistrozakazIsContractDone=function(){return console.log("calling isContract done."),$.localStorage.isEmpty(lsContractKey)&&$.localStorage.set(lsContractKey,!1),!1},$.fn.bistrozakazLsCheckUsersContact=function(a){var t=$("#bistrozakaz-contact");if(!("1"==$.bistrozakaz.$wa_is_auth&&t.val().length>6)){var o=$.bistrozakaz.$mode;a.localStorage.isSet("contact."+o)&&(a.localStorage.isEmpty("contact."+o)||t.val(a.localStorage.get("contact."+o)))}};
!function(t){"use strict";function a(){return t.localStorage.isEmpty(b)&&t.localStorage.set(b,!1),p===!1||t.localStorage.get(b)}function e(){k.addClass("bistrozakaz-contract-on-fire")}function o(){var a=k.find("input:checked").length>=1;a&&(t.localStorage.set(b,a),k.fadeOut(270),z.keyup(),u.trigger("signed.bistrozakaz.contract"))}function r(){a()||k.show()}function s(a){return"13"!=a.which||t(l.sSelectorButton).attr("disabled")||t(l.sSelectorButton).focus(),!1}function n(a){if(a.preventDefault(),t(this).attr("disabled"))return!1;t.fn.bistrozakazStartRequest(),t.fn.bistrozakazLsSetContact(i,t(l.sSelectorContact).val());var e={contact:t(l.sSelectorContact).val(),metadata:c,_csrf:t('input[name="_csrf"]').val()};t.ajax({type:"POST",url:t.bistrozakaz.$wa_app_url+"bistrozakaz/?plugin=bistrozakaz&action=bistrozakaz",data:t(l.sSelectorFormId).serialize()+"&"+t.param(e),success:t.fn.bistrozakazSuccess,complete:function(){t.fn.bistrozakazComplete()},dataType:"json"})}var i,c=({sAppStaticUrl:t.bistrozakaz.$wa_app_static_url,sDataPath:t.bistrozakaz.$wa_url+"wa-data/public/shop/bistrozakaz/"},{}),l={sSelectorSkuId:"input[name=sku_id]:checked",sSelectorFormId:"#cart-form",sSelectorWrap:"#bistrozakaz-wrap",sSelectorWrapLoading:"#bistrozakaz-wrap-loading",sSelectorContact:"#bistrozakaz-contact",sSelectorButton:"#bistrozakaz-button"},u=t(l.sSelectorWrap),z=t(l.sSelectorContact),d=t(l.sSelectorButton),k=t("#bistrozakaz-contract"),p=u.data("contract-is-enabled"),b=t(l.sSelectorWrap).data("contract-localstorage-key"),S={alias:"email",onKeyUp:function(o,r){var s=a(),n=t(this).bzinputmask("isComplete");n&&!s&&e(),n&&s?d.removeAttr("disabled"):d.attr("disabled","disabled")}};window.BISTROZAKAZ={init:function(a){var e=t("input[name=sku_id][type=radio]",l.sSelectorFormId),c=t(".sku-feature",l.sSelectorFormId);S=void 0==a?S:t.extend(S,a),i=t.initNamespaceStorage("bistrozakaz"),e.length>0&&t.fn.bistrozakazCheckSkuEnabled(),z.bzinputmask(S),z.keypress(s),t(l.sSelectorButton).click(n),e.length>0&&t.fn.bistrozakazRadioToggle(),c&&t.fn.bistrozakazFeatureToggle(),t.fn.bistrozakazLsCheckUsersContact(i),z.keyup(),k.find("input[type=checkbox]").on("change",o),r()}}}(jQuery),BISTROZAKAZ.init();
